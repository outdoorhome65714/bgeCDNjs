!function(e){function a(t,n){var o={align:"center",valign:"center"};if(e.extend(o,n),0!==t.height()){var r,i,s,g=function(){var e=window,a="inner";return"innerWidth"in window||(e=document.documentElement||document.body,a="client"),{width:e[a+"Width"],height:e[a+"Height"]}}(),d=g.width,l=g.height,v=t.width(),c=t.height()/v;l/d>c?(r=l/c,i=l):(r=d,i=d*c),s={width:r+"px",height:i+"px",top:"auto",bottom:"auto",left:"auto",right:"auto"},isNaN(parseInt(o.valign,10))?"top"==o.valign?s.top=0:"bottom"==o.valign?s.bottom=0:s.top=(l-i)/2:s.top=0-(i-l)/100*parseInt(o.valign,10)+"px",isNaN(parseInt(o.align,10))?"left"==o.align?s.left=0:"right"==o.align?s.right=0:s.left=(d-r)/2:s.left=0-(r-d)/100*parseInt(o.align,10)+"px",t.css(s)}else t.load(function(){a(e(this),n)})}var t,n=e("<img />").addClass("vegas-background"),o=e("<div />").addClass("vegas-overlay"),r=e("<div />").addClass("vegas-loading"),i=e(),s=null,g=[],d=0,l=5e3,v=function(){},c={init:function(t){var o={src:e("body").css("backgroundImage")?e("body").css("backgroundImage").replace(/url\("?(.*?)"?\)/i,"$1"):void 0,align:"center",valign:"center",fade:0,loading:!0,load:function(){},complete:function(){}};e.extend(o,e.vegas.defaults.background,t),o.loading&&r.prependTo("body").fadeIn();var s=n.clone();return s.css({position:"fixed",left:"0px",top:"0px"}).bind("load",function(){s!=i&&(e(window).bind("load resize.vegas",function(){a(s,o)}),i.is("img")?(i.stop(),s.hide().insertAfter(i).fadeIn(o.fade,function(){e(".vegas-background").not(this).remove(),e("body").trigger("vegascomplete",[this,d-1]),o.complete.apply(s,[d-1])})):s.hide().prependTo("body").fadeIn(o.fade,function(){e("body").trigger("vegascomplete",[this,d-1]),o.complete.apply(this,[d-1])}),a(i=s,o),o.loading&&r.fadeOut("fast",function(){e(this).remove()}),e("body").trigger("vegasload",[i.get(0),d-1]),o.load.apply(i.get(0),[d-1]),d&&(e("body").trigger("vegaswalk",[i.get(0),d-1]),o.walk.apply(i.get(0),[d-1])))}).attr("src",o.src),e.vegas},destroy:function(a){return a&&"background"!=a||(e(".vegas-background, .vegas-loading").remove(),e(window).unbind("*.vegas"),i=e()),a&&"overlay"!=a||e(".vegas-overlay").remove(),clearInterval(t),e.vegas},overlay:function(a){var t={src:null,opacity:null};return e.extend(t,e.vegas.defaults.overlay,a),o.remove(),o.css({margin:"0",padding:"0",position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),!1===t.src&&o.css("backgroundImage","none"),t.src&&o.css("backgroundImage","url("+t.src+")"),t.opacity&&o.css("opacity",t.opacity),o.prependTo("body"),e.vegas},slideshow:function(a,n){var o={step:d,delay:l,preload:!1,loading:!0,backgrounds:g,walk:v};if(e.extend(o,e.vegas.defaults.slideshow,a),o.backgrounds!=g&&(a.step||(o.step=0),a.walk||(o.walk=function(){}),o.preload&&e.vegas("preload",o.backgrounds)),g=o.backgrounds,l=o.delay,d=o.step,v=o.walk,clearInterval(t),!g.length)return e.vegas;var r=function(){0>d&&(d=g.length-1),(d>=g.length||!g[d-1])&&(d=0);var a=g[d++];a.walk=o.walk,a.loading=o.loading,void 0===a.fade&&(a.fade=o.fade),a.fade>o.delay&&(a.fade=o.delay),e.vegas(a)};return r(),n||(s=!1,e("body").trigger("vegasstart",[i.get(0),d-1])),s||(t=setInterval(r,o.delay)),e.vegas},next:function(){var a=d;return d&&(e.vegas("slideshow",{step:d},!0),e("body").trigger("vegasnext",[i.get(0),d-1,a-1])),e.vegas},previous:function(){var a=d;return d&&(e.vegas("slideshow",{step:d-2},!0),e("body").trigger("vegasprevious",[i.get(0),d-1,a-1])),e.vegas},jump:function(a){var t=d;return d&&(e.vegas("slideshow",{step:a},!0),e("body").trigger("vegasjump",[i.get(0),d-1,t-1])),e.vegas},stop:function(){var a=d;return d=0,s=null,clearInterval(t),e("body").trigger("vegasstop",[i.get(0),a-1]),e.vegas},pause:function(){return s=!0,clearInterval(t),e("body").trigger("vegaspause",[i.get(0),d-1]),e.vegas},get:function(e){return null===e||"background"==e?i.get(0):"overlay"==e?o.get(0):"step"==e?d-1:"paused"==e?s:void 0},preload:function(a){var t=[];for(var n in a)if(a[n].src){var o=document.createElement("img");o.src=a[n].src,t.push(o)}return e.vegas}};e.vegas=function(a){return c[a]?c[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void e.error("Method "+a+" does not exist"):c.init.apply(this,arguments)},e.vegas.defaults={background:{},slideshow:{},overlay:{}}}(jQuery);